var MobileNavigation=function(){function e(){document.querySelector("#menuToggle").checked=!1,a()}function t(e){var t,n,o,i,a,r=e.target;"INPUT"===r.tagName&&((t=(r=r).closest("li").querySelector("label")).classList.contains("checked")?(r.checked=!1,t.classList.remove("checked")):(r.checked=!0,t.classList.add("checked"),s&&r!==s&&(o=[],i=[],a=s.closest("li"),n=r.closest("li"),o=c(a),i=c(n),a=o.filter(e=>!i.includes(e)),u(a))),p(e,r,t),s=r)}var n,o,l,i,s=null,c=function(e){for(var t=[];"NAV"!==e.tagName;)"LI"===e.tagName&&t.push(e),e=e.parentNode;return t},u=function(e){e.forEach(e=>{(radioBtn=e.querySelector("input")).checked=!1,e.querySelector("label").classList.remove("checked")})},a=function(){var e;n.checked?(o.classList.add("touched"),l.setAttribute("aria-hidden","false")):(l.setAttribute("aria-hidden","true"),s&&(e=c(s.closest("li")),u(e)))},p=function(e,t,n){for(var o,i,a=l.querySelectorAll("li > input"),r=0;r<a.length&&(radioBtn=a[r])!==t;r++)s&&radioBtn===s&&(o=e.pageY,i=(i=n.getBoundingClientRect()).y+i.height/2+window.scrollY,window.scrollBy(0,i-o))};return{setMobileMenu:function(){n=document.querySelector("#menuToggle"),o=n.parentNode.querySelector("label"),l=n.parentNode.querySelector("nav"),n.addEventListener("click",a),l.addEventListener("click",t),(i=document.querySelector("#menuOverlay")).addEventListener("click",e)},unsetMobileMenu:function(){n.removeEventListener("click",a),l.removeEventListener("click",t),i.removeEventListener("click",a)}}}(),DesktopNavigation=function(){function t(e){var t=e.target;t===i?e.preventDefault():(u(t),p(t))}function n(e){e=e.target,p(e)}function o(e){e=e.target,d(e)}var i,a,r,l,s,c,u=function(){document.querySelector(".menuOverlay").style.display="block",document.querySelector(".loading").style.display="block"},p=function(e){var t;(containingList=e.parentNode).classList.contains("menu1")&&(t=e)!==i&&(i.classList.add("off"),t.classList.add("on"),l=t),containingList.classList.contains("menu2")&&(t=e)!==a&&(a&&a.classList.add("off"),t.classList.add("on"),(c=(s=t).previousElementSibling)&&c.classList.add("beforeSelected"))},d=function(e){(containingList=e.parentNode).classList.contains("menu1")&&(i.classList.remove("off"),l&&l.classList.remove("on")),containingList.classList.contains("menu2")&&(a&&a.classList.remove("off"),s&&(s.classList.remove("on"),c&&c.classList.remove("beforeSelected")))};return{setDesktopMenu:function(){var e;document.querySelector("#imageMenu")&&(e=document.querySelector("nav"),i=(e=e).querySelector("ul.menu1 > li.selected"),a=i.querySelector("ul.menu2 > li.selected"),(r=e.querySelectorAll("ul.menu1 > li, ul.menu1 > li.selected > ul > li")).forEach(e=>{e.addEventListener("click",t),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",o)}))},unsetDesktopMenu:function(){r.forEach(e=>{e.removeEventListener("click",t),e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",o)})}}}(),SweetAndSour={initialize:function(){var e,t,n,o=window.matchMedia("(max-width: 959px)").matches;t=o,document.querySelector("nav")&&(t?(MobileNavigation.setMobileMenu(),e=!0,n&&DesktopNavigation.unsetDesktopMenu()):(DesktopNavigation.setDesktopMenu(),n=!0,e&&MobileNavigation.unsetMobileMenu())),t=o,n=document.querySelector("#menuOverlay"),t&&(n.style.height=document.body.scrollHeight+"px")}};document.addEventListener("DOMContentLoaded",function(){SweetAndSour.initialize()}),window.addEventListener("resize",function(){SweetAndSour.initialize()}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(d,N,t,Z){function e(){return{x:0,y:0}}function z(e,t){g.extend(w,t.publicMethods),Ye.push(e)}function q(e){var t=O();return t-1<e?e-t:e<0?t+e:e}function a(e,t){return Ve[e]||(Ve[e]=[]),Ve[e].push(t)}function H(e,t,n,o){o===w.currItem.initialZoomLevel?n[e]=w.currItem.initialPosition[e]:(n[e]=Qe(e,o),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function U(e){var t,n="";y.escKey&&27===e.keyCode?n="close":y.arrowKeys&&(37===e.keyCode?n="prev":39===e.keyCode?n="next":13!==e.keyCode&&32!==e.keyCode||(t=document.getElementById("pswp__button--caption--ctrl"))&&(t.classList.contains("pswp__button--caption--ctrl--expand")||t.classList.contains("pswp__button--caption--ctrl--collapse"))&&((t=t.parentNode.querySelector(".pswp__caption__center")).setAttribute("tabindex","-1"),t.focus(),n="toggleCaption")),!n||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,w[n]())}function B(e){e&&(Ee||Le||h||Ie)&&(e.preventDefault(),e.stopPropagation())}function K(){w.setScrollOffset(0,g.getScrollY())}function Y(e){var t;"mousedown"===e.type&&0<e.button||(Qt?e.preventDefault():Se&&"mousedown"===e.type||(At(e,!0)&&e.preventDefault(),_("pointerDown"),e.target||e.srcElement,de&&((t=g.arraySearch(ht,e.pointerId,"id"))<0&&(t=ht.length),ht[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=zt(e)).length,c=null,ct(),s&&1!==e||(s=Fe=!0,g.bind(window,Q,w),_e=Ne=Re=Ie=ke=Ee=Te=Le=!1,Oe=null,_("firstTouchStart",t),L(He,v),qe.x=qe.y=0,L(A,t[0]),L(ft,A),gt.x=b.x*Ue,wt=[{x:A.x,y:A.y}],be=xe=I(),ot(f,!0),Tt(),Lt()),!u&&1<e&&!h&&!ke&&(te=f,u=Te=!(Le=!1),qe.y=qe.x=0,L(He,v),L(D,t[0]),L(mt,t[1]),Ot(D,mt,_t),Ct.x=Math.abs(_t.x)-v.x,Ct.y=Math.abs(_t.y)-v.y,Ae=St(D,mt))))}function W(e){var t;e.preventDefault(),de&&-1<(t=g.arraySearch(ht,e.pointerId,"id"))&&((t=ht[t]).x=e.pageX,t.y=e.pageY),s&&(t=zt(e),Oe||Ee||u?c=t:M.x!==b.x*Ue?Oe="h":(e=Math.abs(t[0].x-A.x)-Math.abs(t[0].y-A.y),Math.abs(e)>=dt&&(Oe=0<e?"h":"v",c=t)))}function G(e){if(l.isOldAndroid){if(Se&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Se),Se=setTimeout(function(){Se=0},600))}_("pointerUp"),At(e,!1)&&e.preventDefault(),de&&-1<(a=g.arraySearch(ht,e.pointerId,"id"))&&(t=ht.splice(a,1)[0],navigator.msPointerEnabled?(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")):t.type=e.pointerType||"mouse");var t,n=(a=zt(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(c=null);1===n&&L(ft,a[0]),0!==n||Oe||h||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),_("touchRelease",e,t));var o,i,a=-1;if(0===n&&(s=!1,g.unbind(window,Q,w),Tt(),u?a=0:-1!==bt&&(a=I()-bt)),bt=1===n?I():-1,e=-1!==a&&a<150?"zoom":"swipe",u&&n<2&&(u=!1,1===n&&(e="zoomPointerUp"),_("zoomGestureEnded")),c=null,Ee||Le||h||Ie)if(ct(),(Ce=Ce||Ut()).calculateSwipeSpeed("x"),Ie)Rt()<y.verticalDragRange?w.close():(o=v.y,i=Pe,ut("verticalDrag",0,1,300,g.easing.cubic.out,function(e){v.y=(w.currItem.initialPosition.y-o)*e+o,S((1-i)*e+i),T()}),_("onVerticalDrag",1));else{if((ke||h)&&0===n){if(Kt(e,Ce))return;e="zoomPointerUp"}h||("swipe"!==e?Wt():!ke&&f>w.currItem.fitRatio&&Bt(Ce))}}var V,X,j,m,$,J,Q,ee,n,f,te,ne,oe,ie,ae,r,re,le,se,ce,ue,pe,de,o,me,fe,he,ge,we,ye,l,ve,xe,be,Ce,_e,Ie,Se,s,Te,Le,Ee,De,ke,c,u,Ae,p,Me,h,Oe,Fe,Re,Pe,Ne,Ze,g={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[i](t[a],n,!1)},isArray:function(e){return e instanceof Array},createElement:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){g.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){g.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(g.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)!t.hasOwnProperty(o)||n&&e.hasOwnProperty(o)||(e[o]=t[o])},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(g.features)return g.features;for(var e,t,n,o,i,a=g.createElement().style,r="",l={},s=(l.oldIE=document.all&&!document.addEventListener,l.touch="ontouchstart"in window,window.requestAnimationFrame&&(l.raf=window.requestAnimationFrame,l.caf=window.cancelAnimationFrame),l.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,l.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(l.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(l.isOldAndroid=!0),l.androidVersion=t),l.isMobileOpera=/opera mini|opera mobi/i.test(e)),["transform","perspective","animationName"]),c=["","webkit","Moz","ms","O"],u=0;u<4;u++){for(var r=c[u],p=0;p<3;p++)n=s[p],o=r+(r?n.charAt(0).toUpperCase()+n.slice(1):n),!l[n]&&o in a&&(l[n]=o);r&&!l.raf&&(r=r.toLowerCase(),l.raf=window[r+"RequestAnimationFrame"],l.raf&&(l.caf=window[r+"CancelAnimationFrame"]||window[r+"CancelRequestAnimationFrame"]))}return l.raf||(i=0,l.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-i)),o=window.setTimeout(function(){e(t+n)},n);return i=t+n,o},l.caf=function(e){clearTimeout(e)}),l.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,g.features=l}},w=(g.detectFeatures(),g.features.oldIE&&(g.bind=function(e,t,n,o){t=t.split(" ");for(var i,a=(o?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},l=0;l<t.length;l++)if(i=t[l])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=r;e[a]("on"+i,n["oldIE"+i])}else e[a]("on"+i,n)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null}),this),ze=25,y={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"},qe=(g.extend(y,Z),e()),He=e(),v=e(),x={},Ue=0,Be={},b=e(),C=0,Ke=!0,Ye=[],We={},Ge=!1,Ve={},_=function(e){var t=Ve[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(w,n)}},I=function(){return(new Date).getTime()},S=function(e){Pe=e,w.bg.style.opacity=e*y.bgOpacity},Xe=function(e,t,n,o,i){(!Ge||i&&i!==w.currItem)&&(o/=(i||w.currItem).fitRatio),e[pe]=ne+t+"px, "+n+"px"+oe+" scale("+o+")"},T=function(e){Me&&(e&&(f>w.currItem.fitRatio?Ge||(cn(w.currItem,!1,!0),Ge=!0):Ge&&(cn(w.currItem),Ge=!1)),Xe(Me,v.x,v.y,f))},je=function(e){e.container&&Xe(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},$e=function(e,t){t[pe]=ne+e+"px, 0px"+oe},Je=function(e,t){var n;!y.loop&&t&&(t=m+(b.x*Ue-e)/b.x,n=Math.round(e-M.x),(t<0&&0<n||t>=O()-1&&n<0)&&(e=M.x+n*y.mainScrollEndFriction)),M.x=e,$e(e,$)},Qe=function(e,t){var n=Ct[e]-Be[e];return He[e]+qe[e]+n-t/te*n},L=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(g.unbind(document,"mousemove",nt),g.addClass(d,"pswp--has_mouse"),y.mouseUsed=!0,_("mouseUsed")),tt=setTimeout(function(){tt=null},100)},ot=function(e,t){e=ln(w.currItem,x,e);return t&&(p=e),e},it=function(e){return(e=e||w.currItem).initialZoomLevel},at=function(e){return 0<(e=e||w.currItem).w?y.maxSpreadZoom:1},E={},rt=0,lt=function(e){E[e]&&(E[e].raf&&fe(E[e].raf),rt--,delete E[e])},st=function(e){E[e]&&lt(e),E[e]||(rt++,E[e]={})},ct=function(){for(var e in E)E.hasOwnProperty(e)&&lt(e)},ut=function(e,t,n,o,i,a,r){function l(){if(E[e]){if(s=I()-c,o<=s)return lt(e),a(n),void(r&&r());a((n-t)*i(s/o)+t),E[e].raf=me(l)}}var s,c=I();st(e);l()},Z={shout:_,listen:a,viewportSize:x,options:y,isMainScrollAnimating:function(){return h},getZoomLevel:function(){return f},getCurrentIndex:function(){return m},isDragging:function(){return s},isZooming:function(){return u},setScrollOffset:function(e,t){Be.x=e,ye=Be.y=t,_("updateScrollOffset",Be)},applyZoomPan:function(e,t,n,o){v.x=t,v.y=n,f=e,T(o)},init:function(){if(!V&&!X){w.framework=g,w.template=d,w.bg=g.getChildByClass(d,"pswp__bg"),he=d.className,V=!0,l=g.detectFeatures(),me=l.raf,fe=l.caf,pe=l.transform,we=l.oldIE,w.scrollWrap=g.getChildByClass(d,"pswp__scroll-wrap"),w.container=g.getChildByClass(w.scrollWrap,"pswp__container"),$=w.container.style,w.itemHolders=r=[{el:w.container.children[0],wrap:0,index:-1},{el:w.container.children[1],wrap:0,index:-1},{el:w.container.children[2],wrap:0,index:-1}],r[0].el.style.display=r[2].el.style.display="none",!function(){var e;if(pe)return e=l.perspective&&!o,ne="translate"+(e?"3d(":"("),oe=l.perspective?", 0px)":")";pe="left",g.addClass(d,"pswp--ie"),$e=function(e,t){t.left=e+"px"},je=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,o=t*e.w,i=t*e.h;n.width=o+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px",e.zoom=t,e.apparentImageHeight=i,e.imageFromTop=e.initialPosition},T=function(){var e,t,n,o;Me&&(e=Me,n=(o=1<(t=w.currItem).fitRatio?1:t.fitRatio)*t.w,o=o*t.h,e.width=n+"px",e.height=o+"px",e.left=v.x+"px",e.top=v.y+"px")}}(),n={resize:w.updateSize,orientationchange:function(){clearTimeout(ve),ve=setTimeout(function(){x.x!==w.scrollWrap.clientWidth&&w.updateSize()},500)},scroll:K,keydown:U,click:B};var e,t=l.isOldIOSPhone||l.isOldAndroid||l.isMobileOpera;for(l.animationName&&l.transform&&!t||(y.showAnimationDuration=y.hideAnimationDuration=0),e=0;e<Ye.length;e++)w["init"+Ye[e]]();N&&(w.ui=new N(w,g)).init(),_("firstUpdate"),m=m||y.index||0,(isNaN(m)||m<0||m>=O())&&(m=0),w.currItem=en(m),(l.isOldIOSPhone||l.isOldAndroid)&&(Ke=!1),d.setAttribute("aria-hidden","false"),y.modal&&(Ke?d.style.position="fixed":(d.style.position="absolute",d.style.top=g.getScrollY()+"px")),void 0===ye&&(_("initialLayout"),ye=ge=g.getScrollY());t="pswp--open ";for(y.mainClass&&(t+=y.mainClass+" "),y.showHideOpacity&&(t+="pswp--animate_opacity "),t=(t=(t+=o?"pswp--touch":"pswp--notouch")+(l.animationName?" pswp--css_animation":""))+(l.svg?" pswp--svg":""),g.addClass(d,t),w.updateSize(),J=-1,C=null,e=0;e<3;e++)$e((e+J)*b.x,r[e].el.style);we||g.bind(w.scrollWrap,ee,w),a("initialZoomInEnd",function(){w.setContent(r[0],m-1),w.setContent(r[2],m+1),r[0].el.style.display=r[2].el.style.display="block",y.focus&&d.focus(),g.bind(document,"keydown",w),l.transform&&g.bind(w.scrollWrap,"click",w),y.mouseUsed||g.bind(document,"mousemove",nt),g.bind(window,"resize scroll orientationchange",w),_("bindEvents")}),w.setContent(r[1],m),w.updateCurrItem(),_("afterInit"),Ke||(ie=setInterval(function(){rt||s||u||f!==w.currItem.initialZoomLevel||w.updateSize()},1e3)),g.addClass(d,"pswp--visible")}},close:function(){V&&(X=!(V=!1),_("close"),g.unbind(window,"resize scroll orientationchange",w),g.unbind(window,"scroll",n.scroll),g.unbind(document,"keydown",w),g.unbind(document,"mousemove",nt),l.transform&&g.unbind(w.scrollWrap,"click",w),s&&g.unbind(window,Q,w),clearTimeout(ve),_("unbindEvents"),tn(w.currItem,null,!0,w.destroy))},destroy:function(){_("destroy"),jt&&clearTimeout(jt),d.setAttribute("aria-hidden","true"),d.className=he,ie&&clearInterval(ie),g.unbind(w.scrollWrap,ee,w),g.unbind(window,"scroll",w),Tt(),ct(),w.ui.resetCaption(),Ve=null},panTo:function(e,t,n){n||(e>p.min.x?e=p.min.x:e<p.max.x&&(e=p.max.x),t>p.min.y?t=p.min.y:t<p.max.y&&(t=p.max.y)),v.x=e,v.y=t,T()},handleEvent:function(e){e=e||window.event,n[e.type]&&n[e.type](e)},goTo:function(e){var t=(e=q(e))-m;C=t,m=e,w.currItem=en(m),Ue-=t,Je(b.x*Ue),ct(),h=!1,w.updateCurrItem()},next:function(){w.goTo(m+1)},prev:function(){w.goTo(m-1)},toggleCaption:function(e){w.ui.toggleCaption(e)},updateCurrZoomItem:function(e){var t;e&&_("beforeChange",0),Me=r[1].el.children.length?(t=r[1].el.children[0],g.hasClass(t,"pswp__zoom-wrap")?t.style:null):null,p=w.currItem.bounds,te=f=w.currItem.initialZoomLevel,v.x=p.center.x,v.y=p.center.y,e&&_("afterChange")},invalidateCurrItems:function(){ae=!0;for(var e=0;e<3;e++)r[e].item&&(r[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==C){var t,n=Math.abs(C);if(!(e&&n<2)){w.currItem=en(m),Ge=!1,_("beforeChange",C),3<=n&&(J+=C+(0<C?-3:3),n=3);for(var o=0;o<n;o++)0<C?(t=r.shift(),r[2]=t,$e((++J+2)*b.x,t.el.style),w.setContent(t,m-n+o+1+1)):(t=r.pop(),r.unshift(t),$e(--J*b.x,t.el.style),w.setContent(t,m+n-o-1-1));!Me||1!==Math.abs(C)||(e=en(re)).initialZoomLevel!==f&&(ln(e,x),cn(e),je(e)),C=0,w.updateCurrZoomItem(),re=m,_("afterChange")}}},updateSize:function(e){if(!Ke&&y.modal){var t=g.getScrollY();if(ye!==t&&(d.style.top=t+"px",ye=t),!e&&We.x===window.innerWidth&&We.y===window.innerHeight)return;We.x=window.innerWidth,We.y=window.innerHeight,d.style.height=We.y+"px"}if(x.x=w.scrollWrap.clientWidth,x.y=w.scrollWrap.clientHeight,K(),b.x=x.x+Math.round(x.x*y.spacing),b.y=x.y,Je(b.x*Ue),_("beforeResize"),void 0!==J){for(var n,o,i,a=0;a<3;a++)n=r[a],$e((a+J)*b.x,n.el.style),i=m+a-1,y.loop&&2<O()&&(i=q(i)),(o=en(i))&&(ae||o.needsUpdate||!o.bounds)?(w.cleanSlide(o),w.setContent(n,i),1===a&&(w.currItem=o,w.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===n.index&&0<=i&&w.setContent(n,i),o&&o.container&&(ln(o,x),cn(o),je(o));ae=!1}te=f=w.currItem.initialZoomLevel,(p=w.currItem.bounds)&&(v.x=p.center.x,v.y=p.center.y,T(!0)),_("resize")},zoomTo:function(t,e,n,o,i){e&&(te=f,Ct.x=Math.abs(e.x)-v.x,Ct.y=Math.abs(e.y)-v.y,L(He,v));function a(e){1===e?(f=t,v.x=r.x,v.y=r.y):(f=(t-l)*e+l,v.x=(r.x-s.x)*e+s.x,v.y=(r.y-s.y)*e+s.y),i&&i(e),T(1===e)}var e=ot(t,!1),r={},l=(H("x",e,r,t),H("y",e,r,t),f),s={x:v.x,y:v.y};et(r);n?ut("customZoomTo",0,1,n,o||g.easing.sine.inOut,a):a(1)}},pt=30,dt=10,D={},mt={},k={},A={},ft={},ht=[],gt={},wt=[],yt={},vt=0,xt=e(),bt=0,M=e(),Ct=e(),_t=e(),It=function(e,t){return e.x===t.x&&e.y===t.y},St=function(e,t){return yt.x=Math.abs(e.x-t.x),yt.y=Math.abs(e.y-t.y),Math.sqrt(yt.x*yt.x+yt.y*yt.y)},Tt=function(){De&&(fe(De),De=null)},Lt=function(){s&&(De=me(Lt),Ht())},Et=function(){return!("fit"===y.scaleMode&&f===w.currItem.initialZoomLevel)},Dt=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:Dt(e.parentNode,t)))},kt={},At=function(e,t){return kt.prevent=!Dt(e.target,y.isClickableElement),_("preventDragEvent",e,t,kt),kt.prevent},Mt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Ot=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Ft=function(e,t,n){var o;50<e-be&&((o=2<wt.length?wt.shift():{}).x=t,o.y=n,wt.push(o),be=e)},Rt=function(){var e=v.y-w.currItem.initialPosition.y;return 1-Math.abs(e/(x.y/2))},Pt={},Nt={},Zt=[],zt=function(e){for(;0<Zt.length;)Zt.pop();return de?(Ze=0,ht.forEach(function(e){0===Ze?Zt[0]=e:1===Ze&&(Zt[1]=e),Ze++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Zt[0]=Mt(e.touches[0],Pt),1<e.touches.length&&(Zt[1]=Mt(e.touches[1],Nt))):(Pt.x=e.pageX,Pt.y=e.pageY,Pt.id="",Zt[0]=Pt),Zt},qt=function(e,t){var n,o,i,a=v[e]+t[e],r=0<t[e],l=M.x+t.x,s=M.x-gt.x,c=a>p.min[e]||a<p.max[e]?y.panEndFriction:1,a=v[e]+t[e]*c;if((y.allowPanToNext||f===w.currItem.initialZoomLevel)&&(Me?"h"!==Oe||"x"!==e||Le||(r?(a>p.min[e]&&(c=y.panEndFriction,p.min[e],n=p.min[e]-He[e]),(n<=0||s<0)&&1<O()?(i=l,s<0&&l>gt.x&&(i=gt.x)):p.min.x!==p.max.x&&(o=a)):(a<p.max[e]&&(c=y.panEndFriction,p.max[e],n=He[e]-p.max[e]),(n<=0||0<s)&&1<O()?(i=l,0<s&&l<gt.x&&(i=gt.x)):p.min.x!==p.max.x&&(o=a))):i=l,"x"===e))return void 0!==i&&(Je(i,!0),ke=i!==gt.x),p.min.x!==p.max.x&&(void 0!==o?v.x=o:ke||(v.x+=t.x*c)),void 0!==i;h||ke||f>w.currItem.fitRatio&&(v[e]+=t[e]*c)},Ht=function(){if(c){var e,t,n,o,i,a=c.length;if(0!==a)if(L(D,c[0]),k.x=D.x-A.x,k.y=D.y-A.y,u&&1<a)A.x=D.x,A.y=D.y,!k.x&&!k.y&&It(c[1],mt)||(L(mt,c[1]),Le||(Le=!0,_("zoomGestureStarted")),a=St(D,mt),(e=Yt(a))>w.currItem.initialZoomLevel+w.currItem.initialZoomLevel/15&&(Ne=!0),t=1,n=it(),o=at(),e<n?y.pinchToClose&&!Ne&&te<=w.currItem.initialZoomLevel?(S(i=1-(n-e)/(n/1.2)),_("onPinchClose",i),Re=!0):e=n-(t=1<(t=(n-e)/n)?1:t)*(n/3):o<e&&(e=o+(t=1<(t=(e-o)/(6*n))?1:t)*n),t<0&&(t=0),Ot(D,mt,xt),qe.x+=xt.x-_t.x,qe.y+=xt.y-_t.y,L(_t,xt),v.x=Qe("x",e),v.y=Qe("y",e),_e=f<e,f=e,T());else if(Oe&&(Fe&&(Fe=!1,Math.abs(k.x)>=dt&&(k.x-=c[0].x-ft.x),Math.abs(k.y)>=dt&&(k.y-=c[0].y-ft.y)),A.x=D.x,A.y=D.y,0!==k.x||0!==k.y)){if("v"===Oe&&y.closeOnVerticalDrag)if(!Et())return qe.y+=k.y,v.y+=k.y,i=Rt(),Ie=!0,_("onVerticalDrag",i),S(i),void T();Ft(I(),D.x,D.y),Ee=!0,p=w.currItem.bounds,qt("x",k)||(qt("y",k),et(v),T())}}},Ut=function(){var t,n,o={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<wt.length?(t=I()-be+50,wt[wt.length-2][e]):(t=I()-xe,ft[e]),o.lastFlickOffset[e]=A[e]-n,o.lastFlickDist[e]=Math.abs(o.lastFlickOffset[e]),20<o.lastFlickDist[e]?o.lastFlickSpeed[e]=o.lastFlickOffset[e]/t:o.lastFlickSpeed[e]=0,Math.abs(o.lastFlickSpeed[e])<.1&&(o.lastFlickSpeed[e]=0),o.slowDownRatio[e]=.95,o.slowDownRatioReverse[e]=1-o.slowDownRatio[e],o.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){o.backAnimStarted[t]||(v[t]>p.min[t]?o.backAnimDestination[t]=p.min[t]:v[t]<p.max[t]&&(o.backAnimDestination[t]=p.max[t]),void 0!==o.backAnimDestination[t]&&(o.slowDownRatio[t]=.7,o.slowDownRatioReverse[t]=1-o.slowDownRatio[t],o.speedDecelerationRatioAbs[t]<.05&&(o.lastFlickSpeed[t]=0,o.backAnimStarted[t]=!0,ut("bounceZoomPan"+t,v[t],o.backAnimDestination[t],e||300,g.easing.sine.out,function(e){v[t]=e,T()}))))},calculateAnimOffset:function(e){o.backAnimStarted[e]||(o.speedDecelerationRatio[e]=o.speedDecelerationRatio[e]*(o.slowDownRatio[e]+o.slowDownRatioReverse[e]-o.slowDownRatioReverse[e]*o.timeDiff/10),o.speedDecelerationRatioAbs[e]=Math.abs(o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]),o.distanceOffset[e]=o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]*o.timeDiff,v[e]+=o.distanceOffset[e])},panAnimLoop:function(){E.zoomPan&&(E.zoomPan.raf=me(o.panAnimLoop),o.now=I(),o.timeDiff=o.now-o.lastNow,o.lastNow=o.now,o.calculateAnimOffset("x"),o.calculateAnimOffset("y"),T(),o.calculateOverBoundsAnimOffset("x"),o.calculateOverBoundsAnimOffset("y"),o.speedDecelerationRatioAbs.x<.05&&o.speedDecelerationRatioAbs.y<.05&&(v.x=Math.round(v.x),v.y=Math.round(v.y),T(),lt("zoomPan")))}};return o},Bt=function(e){if(e.calculateSwipeSpeed("y"),p=w.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;st("zoomPan"),e.lastNow=I(),e.panAnimLoop()},Kt=function(e,t){h||(vt=m),"swipe"===e&&(e=A.x-ft.x,a=t.lastFlickDist.x<10,pt<e&&(a||20<t.lastFlickOffset.x)?o=-1:e<-pt&&(a||t.lastFlickOffset.x<-20)&&(o=1)),o&&((m+=o)<0?(m=y.loop?O()-1:0,i=!0):m>=O()&&(m=y.loop?0:O()-1,i=!0),i&&!y.loop||(C+=o,Ue-=o,n=!0));var n,o,i,e=b.x*Ue,a=Math.abs(e-M.x),r=n||e>M.x==0<t.lastFlickSpeed.x?(r=0<Math.abs(t.lastFlickSpeed.x)?a/Math.abs(t.lastFlickSpeed.x):333,r=Math.min(r,400),Math.max(r,250)):333;return vt===m&&(n=!1),h=!0,_("mainScrollAnimStart"),ut("mainScroll",M.x,e,r,g.easing.cubic.out,Je,function(){ct(),h=!1,vt=-1,!n&&vt===m||w.updateCurrItem(),_("mainScrollAnimComplete")}),n&&w.updateCurrItem(!0),n},Yt=function(e){return 1/Ae*e*te},Wt=function(){var e,t=f,n=it(),o=at(),i=(f<n?t=n:o<f&&(t=o),Pe);return Re&&!_e&&!Ne&&f<n?w.close():(Re&&(e=function(e){S((1-i)*e+i)}),w.zoomTo(t,0,200,g.easing.cubic.out,e)),!0};z("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,o,i){le=e+t,se=e+n,ce=e+o,ue=i?e+i:""}(de=l.pointerEvent)&&l.touch&&(l.touch=!1),de?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):l.touch?(e("touch","start","move","end","cancel"),o=!0):e("mouse","down","move","up"),Q=se+" "+ce+" "+ue,ee=le,de&&!o&&(o=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),w.likelyTouchDevice=o,n[le]=Y,n[se]=W,n[ce]=G,ue&&(n[ue]=n[ce]),l.touch&&(ee+=" mousedown",Q+=" mousemove mouseup",n.mousedown=n[le],n.mousemove=n[se],n.mouseup=n[ce]),o||(y.allowPanToNext=!1)}}});function Gt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=g.createElement("pswp__img","img");n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src}function Vt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=y.errorMsg.replace("%url%",e.src),1)}function Xt(){if(nn.length){for(var e,t=0;t<nn.length;t++)(e=nn[t]).holder.index===e.index&&sn(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nn=[]}}var jt,$t,Jt,Qt,en,O,tn=function(a,e,r,t){function l(){lt("initialZoom"),r?(w.template.removeAttribute("style"),w.bg.removeAttribute("style")):(S(1),e&&(e.style.display="block"),g.addClass(d,"pswp--animated-in"),_("initialZoom"+(r?"OutEnd":"InEnd"))),t&&t(),Qt=!1}jt&&clearTimeout(jt),Jt=Qt=!0,a.initialLayout?(s=a.initialLayout,a.initialLayout=null):s=y.getThumbBoundsFn&&y.getThumbBoundsFn(m);var s,c=r?y.hideAnimationDuration:y.showAnimationDuration;if(!c||!s||void 0===s.x)return _("initialZoom"+(r?"Out":"In")),f=a.initialZoomLevel,L(v,a.initialPosition),T(),d.style.opacity=r?0:1,S(1),void(c?setTimeout(function(){l()},c):l());var u,p;u=j,p=!w.currItem.src||w.currItem.loadError||y.showHideOpacity,a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden"),r||(f=s.w/a.w,v.x=s.x,v.y=s.y-ge,w[p?"template":"bg"].style.opacity=.001,T()),st("initialZoom"),r&&!u&&g.removeClass(d,"pswp--animated-in"),p&&(r?g[(u?"remove":"add")+"Class"](d,"pswp--animate_opacity"):setTimeout(function(){g.addClass(d,"pswp--animate_opacity")},30)),jt=setTimeout(function(){var t,n,o,i,e;_("initialZoom"+(r?"Out":"In")),r?(t=s.w/a.w,n={x:v.x,y:v.y},o=f,i=Pe,e=function(e){1===e?(f=t,v.x=s.x,v.y=s.y-ye):(f=(t-o)*e+o,v.x=(s.x-n.x)*e+n.x,v.y=(s.y-ye-n.y)*e+n.y),T(),p?d.style.opacity=1-e:S(i-e*i)},u?ut("initialZoom",0,1,c,g.easing.cubic.out,e,l):(e(1),jt=setTimeout(l,c+20))):(f=a.initialZoomLevel,L(v,a.initialPosition),T(),S(1),p?d.style.opacity=1:S(1),jt=setTimeout(l,c+20))},r?25:90)},F={},nn=[],on={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return $t.length}},an=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},rn=function(e,t,n){var o=e.bounds;o.center.x=Math.round((F.x-t)/2),o.center.y=Math.round((F.y-n)/2)+e.vGap.top,o.max.x=t>F.x?Math.round(F.x-t):o.center.x,o.max.y=n>F.y?Math.round(F.y-n)+e.vGap.top:o.center.y,o.min.x=t>F.x?0:o.center.x,o.min.y=n>F.y?e.vGap.top:o.center.y},ln=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=an(),e.initialPosition=e.bounds.center,e.bounds;var o,i=!n;return i&&(e.vGap||(e.vGap={top:0,bottom:0}),_("parseVerticalMargin",e)),F.x=t.x,F.y=t.y-e.vGap.top-e.vGap.bottom,i&&(t=F.x/e.w,o=F.y/e.h,e.fitRatio=t<o?t:o,"orig"===(t=y.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=an())),n?(rn(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},sn=function(e,t,n,o,i,a){t.loadError||o&&(t.imageAppended=!0,cn(t,o,t===w.currItem&&Ge),n.appendChild(o),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},cn=function(e,t,n){var o;e.src&&(t=t||e.container.lastChild,o=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=n+"px"),t.style.width=o+"px",t.style.height=n+"px")};z("Controller",{publicMethods:{lazyLoadItem:function(e){e=q(e);var t=en(e);t&&(!t.loaded&&!t.loading||ae)&&(_("gettingData",e,t),t.src&&Gt(t))},initController:function(){g.extend(y,on,!0),w.items=$t=t,en=w.getItemAt,O=y.getNumItemsFn,y.loop,O()<3&&(y.loop=!1),a("beforeChange",function(e){for(var t=y.preload,n=null===e||0<=e,o=Math.min(t[0],O()),i=Math.min(t[1],O()),a=1;a<=(n?i:o);a++)w.lazyLoadItem(m+a);for(a=1;a<=(n?o:i);a++)w.lazyLoadItem(m-a)}),a("initialLayout",function(){w.currItem.initialLayout=y.getThumbBoundsFn&&y.getThumbBoundsFn(m)}),a("mainScrollAnimComplete",Xt),a("initialZoomInEnd",Xt),a("destroy",function(){for(var e,t=0;t<$t.length;t++)(e=$t[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nn=null})},getItemAt:function(e){return 0<=e&&(void 0!==$t[e]&&$t[e])},allowProgressiveImg:function(){return y.forceProgressiveLoading||!o||y.mouseUsed||1200<screen.width},setContent:function(t,n){y.loop&&(n=q(n));var e,o,i,a=w.getItemAt(t.index),a=(a&&(a.container=null),w.getItemAt(n));a?(_("gettingData",n,a),t.index=n,o=(t.item=a).container=g.createElement("pswp__zoom-wrap"),!a.src&&a.html&&(a.html.tagName?o.appendChild(a.html):o.innerHTML=a.html),Vt(a),ln(a,x),!a.src||a.loadError||a.loaded?a.src&&!a.loadError&&((e=g.createElement("pswp__img","img")).style.opacity=1,e.src=a.src,cn(a,e),sn(n,a,o,e,!0)):(a.loadComplete=function(e){if(V){if(t&&t.index===n){if(Vt(e,!0))return e.loadComplete=e.img=null,ln(e,x),je(e),void(t.index===m&&w.updateCurrZoomItem());e.imageAppended?!Qt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):l.transform&&(h||Qt)?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t,clearPlaceholder:!0}):sn(n,e,o,e.img,h||Qt,!0)}e.loadComplete=null,e.img=null,_("imageLoadComplete",n,e)}},g.features.transform&&(i="pswp__img pswp__img--placeholder",i+=a.msrc?"":" pswp__img--placeholder--blank",i=g.createElement(i,a.msrc?"img":""),a.msrc&&(i.src=a.msrc),cn(a,i),o.appendChild(i),a.placeholder=i),a.loading||Gt(a),w.allowProgressiveImg()&&(!Jt&&l.transform?nn.push({item:a,baseDiv:o,img:a.img,index:n,holder:t}):sn(n,a,o,a.img,!0,!0))),Jt||n!==m?je(a):(Me=o.style,tn(a,e||a.img)),t.el.innerHTML="",t.el.appendChild(o)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function un(e,t,n){var o=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(o)}function pn(){fn&&clearTimeout(fn),gn&&clearTimeout(gn)}function dn(){var e=Tn(),t={};if(e.length<5)return t;var n,o=e.split("&");for(a=0;a<o.length;a++)o[a]&&((n=o[a].split("=")).length<2||(t[n[0]]=n[1]));if(y.galleryPIDs){for(var i=t.pid,a=t.pid=0;a<$t.length;a++)if($t[a].pid===i){t.pid=a;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t}var mn,R,fn,hn,gn,wn,yn,vn,i,xn,bn,Cn,P,_n,In={},Sn=(z("Tap",{publicMethods:{initTap:function(){a("firstTouchStart",w.onTapStart),a("touchRelease",w.onTapRelease),a("destroy",function(){In={},mn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(mn),mn=null)},onTapRelease:function(e,t){var n,o,i;!t||Ee||Te||rt||(n=t,mn&&(clearTimeout(mn),mn=null,o=n,i=In,Math.abs(o.x-i.x)<ze&&Math.abs(o.y-i.y)<ze)?_("doubleTap",n):"mouse"===t.type?un(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||g.hasClass(e.target,"pswp__single-tap")?un(e,t):(L(In,n),mn=setTimeout(function(){un(e,t),mn=null},300)))}}}),z("DesktopZoom",{publicMethods:{initDesktopZoom:function(){we||w.setupDesktopZoom()},setupDesktopZoom:function(e){R={};var t="wheel mousewheel DOMMouseScroll";a("bindEvents",function(){g.bind(d,t,w.handleMouseWheel)}),a("unbindEvents",function(){R&&g.unbind(d,t,w.handleMouseWheel)}),w.mouseZoomedIn=!1;function n(){w.mouseZoomedIn&&(g.removeClass(d,"pswp--zoomed-in"),w.mouseZoomedIn=!1),f<1?g.addClass(d,"pswp--zoom-allowed"):g.removeClass(d,"pswp--zoom-allowed"),i()}var o,i=function(){o&&(g.removeClass(d,"pswp--dragging"),o=!1)};a("resize",n),a("afterChange",n),a("pointerDown",function(){w.mouseZoomedIn&&(o=!0,g.addClass(d,"pswp--dragging"))}),a("pointerUp",i),e||n()},handleMouseWheel:function(e){var t=(e.target||e.srcElement).closest(".pswp__caption");if(t){var n=t.querySelector(".pswp__button--caption--ctrl");if(n)return void(n.classList.contains("pswp__button--caption--ctrl--expand")&&e.wheelDeltaY<-50?w.ui.toggleCaption(n):n.classList.contains("pswp__button--caption--ctrl--collapse")?0==t.querySelector(".pswp__caption__center").scrollTop&&50<e.wheelDeltaY&&w.ui.toggleCaption(n):e.preventDefault())}if(f<=w.currItem.fitRatio)return y.modal&&(!y.closeOnScroll||rt||s?e.preventDefault():pe&&2<Math.abs(e.deltaY)&&(j=!0,w.close())),!0;if(e.stopPropagation(),R.x=0,"deltaX"in e)1===e.deltaMode?(R.x=18*e.deltaX,R.y=18*e.deltaY):(R.x=e.deltaX,R.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(R.x=-.16*e.wheelDeltaX),e.wheelDeltaY?R.y=-.16*e.wheelDeltaY:R.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;R.y=e.detail}ot(f,!0);t=v.x-R.x,n=v.y-R.y;(y.modal||t<=p.min.x&&t>=p.max.x&&n<=p.min.y&&n>=p.max.y)&&e.preventDefault(),w.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:x.x/2+Be.x,y:x.y/2+Be.y};var t=y.getDoubleTapZoom(!0,w.currItem),n=f===t;w.mouseZoomedIn=!n,w.zoomTo(n?w.currItem.initialZoomLevel:t,e,333),g[(n?"remove":"add")+"Class"](d,"pswp--zoomed-in")}}}),{history:!0,galleryUID:1}),Tn=function(){return P.hash.substring(1)},Ln=function(){var e,t;gn&&clearTimeout(gn),rt||s?gn=setTimeout(Ln,500):(wn?clearTimeout(hn):wn=!0,t=m+1,(e=en(m)).hasOwnProperty("pid")&&(t=e.pid),e=i+"&gid="+y.galleryUID+"&pid="+t,xn||-1===P.hash.indexOf(e)&&(Cn=!0),t=P.href.split("#")[0]+"#"+e,_n?"#"+e!==window.location.hash&&history[xn?"replaceState":"pushState"]("",document.title,t):xn?P.replace(t):P.hash=e,xn=!0,hn=setTimeout(function(){wn=!1},60))};z("History",{publicMethods:{initHistory:function(){var e,t;g.extend(y,Sn,!0),y.history&&(P=window.location,xn=bn=Cn=!1,i=Tn(),_n="pushState"in history,-1<i.indexOf("gid=")&&(i=(i=i.split("&gid=")[0]).split("?gid=")[0]),a("afterChange",w.updateURL),a("unbindEvents",function(){g.unbind(window,"hashchange",w.onHashChange)}),e=function(){vn=!0,bn||(Cn?history.back():i?P.hash=i:_n?history.pushState("",document.title,P.pathname+P.search):P.hash=""),pn()},a("unbindEvents",function(){j&&e()}),a("destroy",function(){vn||e()}),a("firstUpdate",function(){m=dn().pid}),-1<(t=i.indexOf("pid="))&&"&"===(i=i.substring(0,t)).slice(-1)&&(i=i.slice(0,-1)),setTimeout(function(){V&&g.bind(window,"hashchange",w.onHashChange)},40))},onHashChange:function(){if(Tn()===i)return bn=!0,void w.close();wn||(yn=!0,w.goTo(dn().pid),yn=!1)},updateURL:function(){pn(),yn||(xn?fn=setTimeout(Ln,800):Ln())}}}),g.extend(w,Z)}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(o,l){function t(e){var t=(n=(e=e||o.scrollWrap.querySelector(".pswp__button--caption--ctrl")).parentNode).querySelector(".pswp__caption__center"),n=B(n);e.classList.contains("pswp__button--caption--ctrl--expand")?(n.naturalCaptionHeight<n.maxExpandedCaptionHeight?S.style.height=n.naturalCaptionHeight+"px":(S.style.height=n.maxExpandedCaptionHeight+"px",t.style.overflowY="auto"),e.classList.remove("pswp__button--caption--ctrl--expand"),e.classList.add("pswp__button--caption--ctrl--collapse"),e.setAttribute("title","Collapse caption"),t.classList.remove("collapsed"),t.classList.add("expanded"),t.setAttribute("aria-expanded","true")):(T.style.height=n.maxCollapsedCaptionHeight+"px",e.classList.add("pswp__button--caption--ctrl--expand"),e.classList.remove("pswp__button--caption--ctrl--collapse"),e.setAttribute("title","Expand caption"),t.style.overflowY="hidden",t.classList.remove("expanded"),t.classList.add("collapsed"),t.setAttribute("aria-expanded","false"))}function e(e){if(E)return!0;e=e||window.event,L.timeToIdle&&L.mouseUsed&&!v&&s();for(var t,n,o=e.target||e.srcElement,i=o.getAttribute("class")||"",a=0;a<R.length;a++)(t=R[a]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(o),n=!0);(n=o.closest(".pswp__caption__center")?!0:n)&&(e.stopPropagation&&e.stopPropagation(),E=!0,e=l.features.isOldAndroid?600:30,setTimeout(function(){E=!1},e))}function n(){var e=1===L.getNumItemsFn();e!==z&&(F(d,"ui--one-slide",e),z=e)}function r(){F(w,"share-modal--hidden",O)}function i(){if((O=!O)?(l.removeClass(w,"pswp__share-modal--fade-in"),setTimeout(function(){O&&r()},300)):(r(),setTimeout(function(){O||l.addClass(w,"pswp__share-modal--fade-in")},30)),!O){for(var e,t,n,o,i="",a=0;a<L.shareButtons.length;a++){e=L.shareButtons[a];t=L.getImageURLForShare(e);n=L.getPageURLForShare(e);o=L.getTextForShare(e);n=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(o));i+='<a href="'+n+'" target="_blank" '+'class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>";if(L.parseShareButtonOut)i=L.parseShareButtonOut(e,i)}w.children[0].innerHTML=i,w.children[0].onclick=Y}}function a(e){for(var t=0;t<L.closeElClasses.length;t++)if(l.hasClass(e,"pswp__"+L.closeElClasses[t]))return!0}function s(){clearTimeout(k),W=0,v&&A.setIdle(!1)}function c(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(k),k=setTimeout(function(){A.setIdle(!0)},L.timeToIdleOutside))}function u(e){C!==e&&(F(b,"preloader--active",!e),C=e)}function P(e){var t,n=e.vGap;!o.likelyTouchDevice||L.mouseUsed||screen.width>L.fitControlsWidth||L.allowLongCaptions?(t=L.barsSize,L.showCaption&&"auto"===t.bottom?(f||((f=l.createElement("pswp__caption pswp__caption--fake")).appendChild(l.createElement("pswp__caption__center")),d.insertBefore(f,m),l.addClass(d,"pswp__ui--fit")),L.addCaptionHTMLFn(e,f)?(e=f.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function N(){(e=document.createElement("style")).appendChild(document.createTextNode("")),document.head.appendChild(e);var e=(I=e.sheet).insertRule(".pswp__caption__center.expanded {}",I.cssRules.length),t=I.insertRule(".pswp__caption__center.collapsed {}",I.cssRules.length);S=I.cssRules.item(e),T=I.cssRules.item(t),I.insertRule(".pswp__caption__center { width: 100%; max-width: 720px; }",I.cssRules.length)}function Z(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){i=e[n],a=i.className;for(var o=0;o<R.length;o++)r=R[o],-1<a.indexOf("pswp__"+r.name)&&(L[r.option]?(l.removeClass(i,"pswp__element--disabled"),r.onInit&&r.onInit(i)):l.addClass(i,"pswp__element--disabled"))}}e(d.children);var i,a,r,t,n,o=l.getChildByClass(d,"pswp__top-bar");o&&e(o.children),(o=document.querySelector(".pswp__caption")).querySelector(".pswp__button--caption--ctrl")||(t=document.createElement("button"),n=o.querySelector(".pswp__caption__center"),t.setAttribute("class","pswp__button pswp__button--caption--ctrl"),t.setAttribute("id","pswp__button--caption--ctrl"),t.setAttribute("title","Expand caption"),o.insertBefore(t,n))}var p,d,m,f,h,g,w,y,v,x,b,C,_,z,I,S,T,L,E,D,k,A=this,q=!1,M=!0,O=!0,H={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){var n,o,i,a,r=t.querySelector(".pswp__caption__center");return e.title?(r.innerHTML=e.title,L.allowLongCaptions&&(a=e.initialPosition.y,n=Math.round(e.h*e.initialZoomLevel),e=e.vGap.top,A.resetCaption(),o=r.clientHeight,i=t.querySelector(".pswp__button--caption--ctrl"),U(t,a,n,e,o),o-10>(a=B(t)).maxCollapsedCaptionHeight?(i.classList.add("pswp__button--caption--ctrl--expand"),i.setAttribute("aria-controls","pswp__caption__center"),r.setAttribute("aria-expanded","false")):K(i),T.style.height=a.maxCollapsedCaptionHeight+"px",r.classList.add("collapsed")),!0):(r.innerHTML="",!1)},showCloseCtrl:!0,showFullscreenCtrl:!0,showZoomCtrl:!0,showShareCtrl:!0,showCounter:!0,showNextPreviousArrows:!0,showCaption:!0,allowLongCaptions:!1,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return o.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return o.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},U=function(e,t,n,o,i){e.dataset.imagePositionTop=t,e.dataset.apparentImageHeight=n,e.dataset.gapTop=o,e.dataset.naturalCaptionHeight=i},B=function(e){var t={},e=(t.gapTop=parseInt(e.dataset.gapTop,10),t.imagePositionTop=parseInt(e.dataset.imagePositionTop,10),t.apparentImageHeight=parseInt(e.dataset.apparentImageHeight,10),t.naturalCaptionHeight=parseInt(e.dataset.naturalCaptionHeight,10),t.imagePositionTop+t.apparentImageHeight);return t.maxCollapsedCaptionHeight=window.innerHeight-e,t.maxExpandedCaptionHeight=window.innerHeight-t.gapTop,t},K=function(e){(e=e||o.scrollWrap.querySelector(".pswp__button--caption--ctrl")).classList.remove("pswp__button--caption--ctrl--expand"),e.classList.remove("pswp__button--caption--ctrl--collapse"),e.removeAttribute("aria-controls");e=e.parentNode.querySelector(".pswp__caption__center");e.removeAttribute("aria-expanded"),e.classList.remove("expanded"),e.classList.remove("collapsed"),S.style.height="auto",T.style.height="auto"},F=function(e,t,n){l[(n?"add":"remove")+"Class"](e,"pswp__"+t)},Y=function(e){var t=(e=e||window.event).target||e.srcElement;return o.shout("shareLinkClick",e,t),!!t.href&&(!!t.hasAttribute("download")||(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),O||i(),!1))},W=0,R=[{name:"caption",option:"showCaption",onInit:function(e){m=e}},{name:"share-modal",option:"showShareCtrl",onInit:function(e){w=e},onTap:function(){i()}},{name:"button--share",option:"showShareCtrl",onInit:function(e){g=e},onTap:function(){i()}},{name:"button--zoom",option:"showZoomCtrl",onTap:o.toggleDesktopZoom},{name:"counter",option:"showCounter",onInit:function(e){h=e}},{name:"button--close",option:"showCloseCtrl",onTap:o.close},{name:"button--arrow--left",option:"showNextPreviousArrows",onTap:o.prev},{name:"button--arrow--right",option:"showNextPreviousArrows",onTap:o.next},{name:"button--fs",option:"showFullscreenCtrl",onTap:function(){p.isFullscreen()?p.exit():p.enter()}},{name:"button--caption--ctrl",option:"allowLongCaptions",onTap:function(e){t(e)}},{name:"preloader",option:"preloaderEl",onInit:function(e){b=e}}];A.init=function(){var t;l.extend(o.options,H,!0),L=o.options,d=l.getChildByClass(o.scrollWrap,"pswp__ui"),x=o.listen,L.closeOnScroll&&(console.info("FYI: Resetting _options.closeOnScroll to false because _options.allowLongCaptions is true."),L.closeOnScroll=!1),L.closeOnVerticalDrag&&(console.info("FYI: Resetting _options.closeOnVerticalDrag to false because _options.allowLongCaptions is true."),L.closeOnVerticalDrag=!1),x("onVerticalDrag",function(e){L.allowLongCaptions||(M&&e<.95?A.hideControls():!M&&.95<=e&&A.showControls())}),x("onPinchClose",function(e){M&&e<.9?(A.hideControls(),t=!0):t&&!M&&.9<e&&A.showControls()}),x("zoomGestureEnded",function(){(t=!1)&&!M&&A.showControls()}),x("beforeChange",A.update),x("doubleTap",function(e){var t=o.currItem.initialZoomLevel;o.getZoomLevel()!==t?o.zoomTo(t,e,333):o.zoomTo(L.getDoubleTapZoom(!1,o.currItem),e,333)}),x("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<o.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),x("bindEvents",function(){l.bind(d,"pswpTap click",e),l.bind(o.scrollWrap,"pswpTap",A.onGlobalTap),o.likelyTouchDevice||l.bind(o.scrollWrap,"mouseover",A.onMouseOver)}),x("unbindEvents",function(){O||i(),D&&clearInterval(D),l.unbind(document,"mouseout",c),l.unbind(document,"mousemove",s),l.unbind(d,"pswpTap click",e),l.unbind(o.scrollWrap,"pswpTap",A.onGlobalTap),l.unbind(o.scrollWrap,"mouseover",A.onMouseOver),p&&(l.unbind(document,p.eventK,A.updateFullscreen),p.isFullscreen()&&(L.hideAnimationDuration=0,p.exit()),p=null)}),x("destroy",function(){L.showCaption&&(f&&d.removeChild(f),l.removeClass(m,"pswp__caption--empty")),w&&(w.children[0].onclick=null),l.removeClass(d,"pswp__ui--over-close"),l.addClass(d,"pswp__ui--hidden"),A.setIdle(!1)}),L.showAnimationDuration||l.removeClass(d,"pswp__ui--hidden"),x("initialZoomIn",function(){L.showAnimationDuration&&l.removeClass(d,"pswp__ui--hidden")}),x("initialZoomOut",function(){l.addClass(d,"pswp__ui--hidden")}),x("parseVerticalMargin",P),Z(),L.shareEl&&g&&w&&(O=!0),n(),L.timeToIdle&&x("mouseUsed",function(){l.bind(document,"mousemove",s),l.bind(document,"mouseout",c),D=setInterval(function(){2===++W&&A.setIdle(!0)},L.timeToIdle/2)}),L.fullscreenEl&&!l.features.isOldAndroid&&((p=p||A.getFullscreenAPI())?(l.bind(document,p.eventK,A.updateFullscreen),A.updateFullscreen(),l.addClass(o.template,"pswp--supports-fs")):l.removeClass(o.template,"pswp--supports-fs")),L.preloaderEl&&(u(!0),x("beforeChange",function(){clearTimeout(_),_=setTimeout(function(){o.currItem&&o.currItem.loading?o.allowProgressiveImg()&&(!o.currItem.img||o.currItem.img.naturalWidth)||u(!1):u(!0)},L.loadingIndicatorDelay)}),x("imageLoadComplete",function(e,t){o.currItem===t&&u(!0)})),L.allowLongCaptions&&N()},A.setIdle=function(e){F(d,"ui--idle",v=e)},A.update=function(){q=!(!M||!o.currItem)&&(A.updateIndexIndicator(),L.showCaption&&(L.addCaptionHTMLFn(o.currItem,m),F(m,"caption--empty",!o.currItem.title)),!0),O||i(),n()},A.updateFullscreen=function(e){e&&setTimeout(function(){o.setScrollOffset(0,l.getScrollY())},50),l[(p.isFullscreen()?"add":"remove")+"Class"](o.template,"pswp--fs")},A.updateIndexIndicator=function(){L.showCounter&&(h.innerHTML=o.getCurrentIndex()+1+L.indexIndicatorSep+L.getNumItemsFn())},A.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;E||(e.detail&&"mouse"===e.detail.pointerType?a(t)?o.close():l.hasClass(t,"pswp__img")&&(1===o.getZoomLevel()&&o.getZoomLevel()<=o.currItem.fitRatio?L.clickToCloseNonZoomable&&o.close():o.toggleDesktopZoom(e.detail.releasePoint)):(e=t.closest(".pswp__caption"),L.tapToToggleControls&&!e&&(M?A.hideControls():A.showControls()),L.tapToClose&&(l.hasClass(t,"pswp__img")||a(t))&&o.close()))},A.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;F(d,"ui--over-close",a(e))},A.hideControls=function(){l.addClass(d,"pswp__ui--hidden"),M=!1},A.showControls=function(){M=!0,q||A.update(),l.removeClass(d,"pswp__ui--hidden")},A.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},A.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(y=L.closeOnScroll,L.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return o.template[this.enterK]();o.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return L.closeOnScroll=y,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e},A.toggleCaption=function(e){t(e)},A.resetCaption=function(e){K(e)}}}),function(){var e=".photo-gallery";function s(e,t){return e&&(t(e)?e:s(e.parentNode,t))}function t(e){var t=(e=e||window.event).target||e.srcElement;if(t.parentNode.classList.contains("figure__link--gallery")){e.preventDefault?e.preventDefault():e.returnValue=!1;var n=s(t,function(e){return"A"===e.tagName});if(n){for(var o,e=s(t,function(e){return e.classList.contains("photo-gallery")}),i=e.querySelectorAll(".figure--thumbnail > .figure__link--gallery"),a=i.length,r=0,l=0;l<a;l++)if(1===i[l].nodeType){if(i[l]===n){o=r;break}r++}return 0<=o&&c(o,e),!1}}}function c(e,t,n,o){var i,a,r,l,s,c=document.querySelectorAll(".pswp")[0],u=m(t),p={galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var e=u[e].el.children[0],t=window.pageYOffset||document.documentElement.scrollTop,e=e.getBoundingClientRect();return{x:e.left,y:e.top+t,w:e.width}},allowLongCaptions:!0,barsSize:{top:44,bottom:60}};if(o)if(p.galleryPIDs){for(var d=0;d<u.length;d++)if(u[d].pid==e){p.index=d;break}}else p.index=parseInt(e,10)-1;else p.index=parseInt(e,10);isNaN(p.index)||(i=new PhotoSwipe(c,PhotoSwipeUI_Default,u,p),l=!(r=!1),i.listen("beforeResize",function(){var e=window.devicePixelRatio||1,e=Math.min(e,2.5);1200<=(a=i.viewportSize.x*e)||!i.likelyTouchDevice&&800<a||1200<screen.width?r||(s=r=!0):r&&(s=!(r=!1)),s&&!l&&i.invalidateCurrItems(),l=l&&!1,s=!1}),i.listen("gettingData",function(e,t){t.src=t.o.src,t.w=t.o.w,t.h=t.o.h}),i.init())}for(var m=function(e){for(var t,n,o,i,a,r,l=e.querySelectorAll("figure.figure--thumbnail"),s=l.length,c=[],u=0;u<s;u++)1===(r=l[u]).nodeType&&(a=r.querySelector("a.figure__link--gallery"))&&(i=a.querySelector("img"),t=a.dataset.size.split("x"),(n={src:a.dataset.linkedImageSrc||a.getAttribute("href"),w:parseInt(t[0],10),h:parseInt(t[1],10),author:a.dataset.dataAuthor}).el=a,n.msrc=i.getAttribute("src"),i=r.querySelector(".figure__caption--thumbnail"),r=r.querySelector(".figure__caption--fullsize"),o='<p class="figure__link-to-full-size"><a href="'+a.getAttribute("href")+'" target="_blank">Printable page with this photo and caption</a></p>',n.title="<p>"+i.innerHTML+"</p>"+r.innerHTML+o,(i=a.getAttribute("data-med"))&&(t=a.getAttribute("data-med-size").split("x"),n.m={src:i,w:parseInt(t[0],10),h:parseInt(t[1],10)}),n.o={src:n.src,w:n.w,h:n.h},c.push(n));return c},n=document.querySelectorAll(e),o=0,i=n.length;o<i;o++)n[o].setAttribute("data-pswp-uid",o+1),n[o].onclick=t;(e=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n,o=e.split("&"),i=0;i<o.length;i++)!o[i]||(n=o[i].split("=")).length<2||(t[n[0]]=n[1]);return t.gid&&(t.gid=parseInt(t.gid,10)),t}()).pid&&e.gid&&c(e.pid,n[e.gid-1],0,!0)}();
//# sourceMappingURL=combined.min.js.map